# 简介
备忘录模式（Memento Pattern）是一种结构型设计模式。这种模式就是在不破坏封装的条件下，将一个对象的状态捕捉(Capture)住，并放在外部存储起来，从而可以在将来合适的时候把这个对象还原到存储起来的状态。备忘录模式常常与命令模式和迭代子模式一同使用。

备忘录模式的角色有三个：备忘录(Memento)角色、发起人(Originator)角色、负责人(Caretaker)角色

备忘录模式是由发起人（Originator）对象负责生成状态快照，其他对象不可修改状态。再将对象状态的副本存储在一个名为备忘录（Memento）的特殊对象中。除了创建备忘录的对象外，任何对象都不能访问备忘录的内容。其他对象必须使用指定接口与备忘录进行交互，它们可以获取快照的元数据（创建时间和操作名称等），但不能获取快照中原始对象的状态。

这种限制策略允许你将备忘录保存在通常被称为负责人（Caretakers）的对象历史中。由于负责人仅通过受限接口与备忘录互动，故其无法修改存储在备忘录内部的状态。同时，发起人拥有对备忘录所有成员的访问权限，从而能随时恢复其以前的某个状态。

# 作用
1. 给用户提供了一种可以恢复状态的机制，可以使用户能够比较方便地回到某个历史的状态。
2. 实现了内部状态的封装，除了创建它的发起人之外，其他对象都不能够访问这些状态信息，也不需要关心状态的保存细节。
3. 简化了发起人角色，发起人不需要管理和保存其内部状态的各个备份，所有状态信息都保存在备忘录中，并由负责人进行管理，符合单一职责原则。

# 实现步骤
1. 创建备忘录Memento，用来记录操作状态数据的实体类。
2. 创建发起人角色Originator，状态的制造者，也是备忘录的生成者，负责将状态写入到一个新备忘录。
3. 创建负责人角色Caretaker，用来保存和读取备忘录的历史记录，所有备忘录均可以保存在历史中，以便恢复。
4. 客户调用方通过Originator来生成备忘录，再通过Caretaker读取和恢复备忘录历史记录。

# UML
<img src="../docs/uml/memento-pattern.png">