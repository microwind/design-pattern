# 简介
访问者模式（Visitor Pattern）是一种行为型模式。它封装一个访问者类，把各元素类的操作集合起来，目的是将数据结构与数据操作分离。在不改变原有元素类数据结构的前提下，改变了元素类的执行算法。

当某些较为稳定的东西（数据结构或算法），不想直接被改变但又想扩展功能，这时候适合用访问者模式。访问者模式的使用频率并不是很高，大多数情况下，你并不需要使用访问者模式，但是当你一旦需要使用它时，那你就是需要使用它了。

访问者模式有以下几个角色：
- 结构对象(ObjectStructure)：结构对象角色，这是访问者模式的基础角色，包含多个类或者接口.
- 抽象元素(Element)：定义一个接受访问操作accept()，以一个访问者Visitor作为参数。
- 具体元素(ConcreteElement)：实现抽象节点的accept()方法和处理操作，调用Vistor的访问方法实现具体功能。
- 抽象访问者(Visitor)：定义一个抽象接口，声明一个或多个访问操作，使得所有具体访问者都必须实现。
- 具体访问者(ConcreteVisitor)：具体访问者角色，实现Visitor声明的接口。

# 作用
1. 在数据基础类里面有一个方法接受访问者，将自身引用传入访问者，从而把不变的固定起来，把变化的开放出去。
2. 通过隔离类中变化的东西，固定不变的东西，符合单一职责原则，同时具备较好的扩展性和灵活性。

# 实现步骤
1. 先创建基本元素抽象类Element，确定accept()抽象方法。
2. 分别创建几个具体的元素类，实现抽象元素的accept方法。
3. 在创建Visitor抽象接口，定义visit方法，调用具体元素。
4. 创建1个或多个Visitor类，继承抽象接口，客户将以此去访问具体元素。
5. 再创建对象结构类，这是核心入口类，负责组合各种元素，以及传递访问者Visitor。
6. 客户调用时先创建对象结构类，再指定访问者类，通过访问这类调用具体元素类

# UML
<img src="../docs/uml/visitor-pattern.png">